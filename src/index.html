<!--
index.html
Defines structure and contents of application
Block Keeper
Created by Dallas McNeil
-->

<!DOCTYPE html>
<html>
<head>
    <title>Block Keeper</title>
    <link type="text/css" rel="stylesheet" href="styles/layout.css">
    <link rel="stylesheet/less" type="text/css" href="styles/base.less">
    <script src="scripts/colorScheme.js"></script>
    <script>
        less = {
            async: true,
            fileAsync: true
        };
    </script>
    <script>if (typeof module === 'object') {window.module = module; module = undefined;}</script>
    <script src="scripts/libs/less.min.js"></script>
    <script src="scripts/libs/jQuery.js"></script>
    <script src="scripts/libs/jQuery UI.js"></script>
    <script src="./node_modules/recordrtc/RecordRTC.js"></script>
    <script src="scripts/libs/raphael-min.js"></script>
    <script src="scripts/libs/scramble_222.js"></script>
    <script src="scripts/libs/scramble_333.js"></script>
    <script src="scripts/libs/scramble_NNN.js"></script>
    <script src="scripts/libs/scramble_pyram.js"></script>
    <script src="scripts/libs/scramble_minx.js"></script>
    <script src="scripts/libs/scramble_sq1.js"></script>
    <script src="scripts/libs/scramble_clock.js"></script>
    <script src="scripts/libs/scramble_skewb.js"></script>
    <script src="scripts/libs/stackmat.js"></script>
    <script>if (window.module) module = window.module;</script>
</head>
    
<body>
    <style id="theme"></style>
    <link type="text/css" rel="stylesheet" href="styles/standardWindowBar.css" id="titleBarStyle">
    <div id="windowBar"></div>
    <div id="content">
    <div id="background" onclick="resetUI()">
        <div id="centreBackground">
            <p id="timer">0.000</p>
        </div>
        <div class="indicator" id="leftIndicator"></div>
        <div class="indicator" id="rightIndicator"></div>
    </div>
        
    <p id=scramble>F' R2 U2 F U2 B U2 F' D2 F L2 U F R2 D2 U R2 U' F' R' F'</p>
        
    <div id="stats">
        <select id="puzzleSelect" onchange="setPuzzle()"></select>
        <div id="sessionContainer">
            <select id="sessionSelect" onchange="setSession()"></select>
            <button id="sessionButton" onclick="toggleSessionButtons()"></button>
        </div>
        <div id="sessionButtons">
            <button id="newSessionButton" onclick="createSessionButton()">New</button>
            <button id="deleteSessionButton" onclick="deleteSessionButton()">Delete</button>
        </div>
        <table id="sessionDetails">
            <tr>
                <td>
                    <p id="sessionSolves">Solves: 0/0</p>
                </td>
                <td>
                    <p id="sessionMean">Mean: 0.000</p>
                </td>
            </tr>
        </table>
        <table id="sessionStats">
            <tr>
                <td>

                </td>
                <td>
                    <p>Current</p>
                </td>
                <td>
                    <p>Best</p>
                </td>
            </tr>
            <tr>
                <td>
                    <p>Time</p>
                </td>
                <td>
                    <p>-</p>
                </td>
                <td>
                    <p>-</p>
                </td>
            </tr>
        </table>
        <div id="sessionRecordsContainer"> 
        <table id="sessionRecords">
            <tr>
                <td>
                    <button id="addTimeButton" onclick="showTimeDialog()">+</button>
                </td>
                <td>
                    <p>Time</p>
                </td>
                <td>
                    <p>Ao5</p>
                </td>
                <td>
                    <p>Ao12</p>
                </td>
            </tr>
        </table>
        </div>
    </div>

    <button id="previewButton" onclick="showPreview()"></button>
    <button id="preferencesButton" onclick="openPreferences()"></button>
    <select id="toolSelect" onchange="updateTool()">
        <option value="none">None</option>    
        <option value="scramble">Drawn Scramble</option>
        <option value="sessionTrend">Session Trend</option>
        <option value="distribution">Distribution</option>
        <option value="eventTrend">Event Trend</option>
    </select>

    <div id="tool">
        <div id="scrambleImage"></div>
        <canvas id="toolCanvas" width="300" height="200"></canvas>
    </div>
        
    <div id="dialogAddTime">
        <p>Add Time (in seconds)
            <input type="text" id="addTimeInput"></p>
        <p><button onclick="addTime()">Add</button> <button onclick="closeTimeDialog()">Cancel</button></p>
    </div>
    
    <div id="dialogRecord">
        <button onclick="recordResultOK()">OK</button>
        <button onclick="recordResult2()">+2</button>
        <button onclick="recordResultDNF()">DNF</button>
        <button style="margin-right:0px;" onclick="deleteRecord()">Delete</button>
        <p id="recordScramble">R2 U L' R2 U L' R2 U L' R2 U L' R2 U L' R2 U L' R2 U L' R2 U L' R2 U L' R2 U L'</p>
    </div>
    
    <div id="dialogPreview">
        <button id="closePreview" class="cross" onclick="closePreview()"></button><br>
        <video id="previewVideo" controls></video>
        <button id="savePreview" onclick="savePreview()">Save Video</button>
    </div>
        
    <div id="dialogCSTimer">
        <p id="messageCSTimer"></p><br>
        <button id="importCSTimer" onclick="importCSTime(true)">Import</button>
    </div>
        
    <div id="dialogPreferences">
        <button id="closePreferences" class="cross" onclick="closePreferences()"></button>
        <div id="tabs">
            <ul>
            <li class="tab"><a href="#tabs-1"><button>Timer</button></a></li>
            <li class="tab"><a href="#tabs-2"><button>Interface</button></a></li>
            <li class="tab"><a href="#tabs-3"><button>Import/Export</button></a></li>
            </ul>
            <div id="tabs-1">
                <form name="preferencesTimer">
                    <p>Inspection Announcements: <select name="voice">
                        <option value="none" selected>None</option>
                        <option value="male">Male</option>
                        <option value="female">Female</option>
                    </select></p>
                    <p>Time Detail:  <select name="timerDetail" style="width:52px">
                        <option value="0">0</option>
                        <option value="1">1</option>
                        <option value="2" selected>2</option>
                        <option value="3">3</option>
                    </select></p>
                    <p>Timer Start Delay:  <select name="timerDelay" style="width:100px">
                        <option value="0">None</option>
                        <option value="0.3">0.3</option>
                        <option value="0.55" selected>0.55</option>
                        <option value="1">1</option>
                    </select></p>
                    <p><input type="checkbox" name="hideTiming" class="checkbox">Hide Timer While Solving</p>
                    <p><input type="checkbox" name="formatTime" class="checkbox">Format Times (mm:ss)</p>
                    <p><input type="checkbox" name="inspection" class="checkbox">WCA Inspection</p>
                    <p><input type="checkbox" name="splitMode" class="checkbox">Split Timer Controls (<input name="leftKey" maxlength="1" type=text style="width:15px"> and <input maxlength="1" name="rightKey" type=text style="width:15px"> Keys)</p>
                    <p><input type="checkbox" name="endSplit" class="checkbox">Stop Timer With Split Keys</p>
                    <p><input type="checkbox" name="recordSolve" class="checkbox">Video Record Solves</p>
                    <p><input type="checkbox" name="stackmat" class="checkbox">Use Stackmat Timer</p>
                </form>
            </div>
            <div id="tabs-2">
                <form name="preferencesInterface">
                    <p>MBLD Scrambles:  <select name="MBLDscramlbes" style="width:70px">
                        <option value="5">5</option>
                        <option value="10" selected>10</option>
                        <option value="15">15</option>
                        <option value="20">20</option>
                        <option value="25">25</option>
                        <option value="30">30</option>
                        <option value="40">40</option>
                        <option value="50">50</option>
                    </select></p>
                    <p>Scramble Font Size:   <select name="scrambleSize" style="width:70px">
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4" selected>4</option>
                        <option value="5">5</option>
                        <option value="6">6</option>
                        <option value="8">8</option>
                        <option value="10">10</option>
                        <option value="12">12</option>
                    </select></p>
                    <p>Theme:  <select name="theme" onchange="previewStylesheet()" style="width:200px;">
                        <option value=0>Dark</option>
                        <option value=1>Light</option>
                        <option value=2>Black</option>
                        <option value=3>Deep Blue</option>
                        <option value=4>Deep Green</option>
                        <option value=5>Deep Red</option>
                        <option value=6>Light Magenta</option>
                        <option value=7>Light Yellow</option>
                        <option value=8>Light Cyan</option>
                        <option value=9>Neon Green</option>
                        <option value=10>Neon Pink</option>
                        <option value=11>Neon Yellow</option>
                        <option value=12>Neon Blue</option>
                        <option value="custom">Custom</option>
                    </select></p>
                    <p>Background Image:   <input name="backgroundImage" type="text" style="width:140px">  <button onclick="selectImage(); return false;">Select Image</button></p>
                    <p>Custom Theme Colors   <button onclick="previewStylesheet();return false;">Refresh Theme</button></p>
                    <p>Background:   <input name="theme0" type=text style="width:100px">     Timer Text: <input name="theme1" type=text style="width:100px"></p>
                    <p>Scramble Text:   <input name="theme2" type=text style="width:100px">     Base: <input name="theme3" type=text style="width:100px"></p>
                    <p>Border:   <input name="theme4" type=text style="width:100px">     Text: <input name="theme5" type=text style="width:100px"></p>  
                </form>
            </div>
            <div id="tabs-3">
                <p>Block Keeper:  <button onclick="importBK()">Import</button>  <button onclick="exportBK()">Export</button></p>
                <p>csTimer:  <button onclick="importCS()">Import</button></p>
                <p>CSV:  <button onclick="exportCSV()">Export</button></p>
                <p>Current Session as Pretty Text:  <button onclick="exportPretty()">Export</button>  <button onclick="clipboardPretty()">Copy</button></p>
            </div>
        </div>
        
        <p>Created by Dallas McNeil, <span id="versionLabel">Version 0.0.0</span></p>
        <button id="savePreferences" onclick="savePreferencesForm()">Save</button>
    </div>
        
    </div>
    
    <div id="versionBannerContainer">
        <div id="versionBanner" onclick="downloadLatestVersion()">
            <p id="versionMessage">A newer version of Block Keeper is available! Click here to download</p>
        </div>
        <button id="closeVersion" onclick="closeVersion()" class="cross"></button>
    </div>
    
    <script src="scripts/scrambles.js"></script> 
    <script src="scripts/style.js"></script>
    <script src="scripts/preferences.js"></script>
    <script src="scripts/sessions.js"></script> 
    <script src="scripts/timer.js"></script>
    <script src="scripts/windowBar.js"></script>
    <script src="scripts/tools.js"></script>
    <script src="scripts/update.js"></script> 
    <script src="scripts/shortcuts.js"></script>
    <script src="scripts/record.js"></script>
</body>
</html>
